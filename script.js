document.addEventListener('DOMContentLoaded', () => {
    const initialScreen = document.getElementById('initialScreen');
    const goAheadBtn = document.getElementById('goAheadBtn');
    const questionScreen = document.getElementById('questionScreen');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const finalMessageScreen = document.getElementById('finalMessageScreen');
    const noMessageDisplay = document.getElementById('noMessageDisplay'); // 'à¦¨à¦¾' à¦•à§à¦²à¦¿à¦• à¦•à¦°à¦²à§‡ à¦®à§‡à¦¸à§‡à¦œ à¦¦à§‡à¦–à¦¾à¦¨à§‹à¦° à¦œà¦¨à§à¦¯

    let noClickCount = 0;
    const maxNoClicks = 12; // 'à¦¨à¦¾' à¦•à§à¦²à¦¿à¦•à§‡à¦° à¦¸à¦‚à¦–à§à¦¯à¦¾ à¦à¦•à¦Ÿà§ à¦¬à¦¾à¦¡à¦¼à¦¾à¦¨à§‹ à¦¹à¦²à§‹

    const romanticMessages = [
        "à¦‡à¦¸à¦¸à¦¸... à¦­à§à¦² à¦•à¦°à§‡ à¦•à§à¦²à¦¿à¦• à¦•à¦°à¦²à§‡ à¦¨à¦¾à¦•à¦¿? à¦†à¦°à§‡à¦•à¦¬à¦¾à¦° à¦šà§‡à¦·à§à¦Ÿà¦¾ à¦•à¦°à§‹ à¦ªà§à¦²à¦¿à¦œ! ðŸ¥°",
        "à¦†à¦®à¦¿ à¦œà¦¾à¦¨à¦¿ à¦¤à§à¦®à¦¿ à¦†à¦®à¦¾à¦•à§‡ à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à§‹, à¦¤à¦¾à¦¹à¦²à§‡ 'à¦¨à¦¾' à¦¬à¦²à¦›à§‹ à¦•à§‡à¦¨? ðŸ¥º",
        "à¦†à¦®à¦¾à¦° à¦¹à§ƒà¦¦à¦¯à¦¼ à¦­à§‡à¦™à§‡ à¦¦à¦¿à¦“ à¦¨à¦¾ à¦¤à§‹! 'à¦¹à§à¦¯à¦¾à¦' à¦¬à¦²à§‹ à¦¨à¦¾ à¦ªà§à¦²à¦¿à¦œ... ðŸ’–",
        "à¦¤à§à¦®à¦¿ à¦•à¦¿ à¦†à¦®à¦¾à¦° à¦¸à¦¬à¦Ÿà¦¾ à¦¨à¦“? à¦à¦•à¦¬à¦¾à¦° à¦­à§‡à¦¬à§‡ à¦¦à§‡à¦–à§‹! ðŸ˜”",
        "à¦†à¦°à§‡à¦•à¦¬à¦¾à¦° à¦¸à§à¦¯à§‹à¦— à¦¦à¦¾à¦“, à¦œà¦¾à¦¨! à¦¤à§à¦®à¦¿ à¦¤à§‹ à¦œà¦¾à¦¨à§‹ à¦†à¦®à¦¿ à¦¤à§‹à¦®à¦¾à¦•à§‡ à¦•à¦¤à¦Ÿà¦¾ à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à¦¿! ðŸ¥¹",
        "à¦à¦‡à¦Ÿà¦¾ à¦¤à§‹à¦®à¦¾à¦° à¦«à¦¾à¦‡à¦¨à¦¾à¦² à¦‰à¦¤à§à¦¤à¦° à¦¹à¦¤à§‡ à¦ªà¦¾à¦°à§‡ à¦¨à¦¾! à¦®à¦¨ à¦¥à§‡à¦•à§‡ à¦¬à¦²à§‹... â¤ï¸",
        "à¦†à¦®à¦¾à¦° à¦œà§€à¦¬à¦¨ à¦¶à§à¦§à§ à¦¤à§à¦®à¦¿! 'à¦¨à¦¾' à¦¬à¦²à¦²à§‡ à¦¬à¦¾à¦à¦šà¦¬à§‹ à¦•à§€à¦­à¦¾à¦¬à§‡? ðŸ˜­",
        "à¦¤à§à¦®à¦¿ à¦¨à¦¾ à¦†à¦®à¦¾à¦° à¦¸à§à¦¬à¦ªà§à¦¨, à¦†à¦®à¦¾à¦° à¦¸à¦¬! à¦ªà§à¦²à¦¿à¦œ 'à¦¹à§à¦¯à¦¾à¦' à¦¬à¦²à§‹! âœ¨",
        "à¦†à¦®à¦¾à¦° à¦ªà§ƒà¦¥à¦¿à¦¬à§€à¦° à¦¸à¦¬ à¦†à¦²à§‹ à¦¤à§à¦®à¦¿! 'à¦¨à¦¾' à¦¬à¦²à§‡ à¦…à¦¨à§à¦§à¦•à¦¾à¦° à¦•à¦°à§‡ à¦¦à¦¿à¦“ à¦¨à¦¾! ðŸ’«",
        "à¦¤à§‹à¦®à¦¾à¦•à§‡ à¦›à¦¾à¦¡à¦¼à¦¾ à¦à¦• à¦®à§à¦¹à§‚à¦°à§à¦¤à¦“ à¦­à¦¾à¦¬à¦¾ à¦¯à¦¾à¦¯à¦¼ à¦¨à¦¾! à¦¬à¦²à§‹ à¦¨à¦¾, 'à¦¹à§à¦¯à¦¾à¦'!",
        "à¦¯à¦¦à¦¿ 'à¦¹à§à¦¯à¦¾à¦' à¦¨à¦¾ à¦¬à¦²à§‹, à¦†à¦®à¦¿ à¦•à¦¿à¦¨à§à¦¤à§ à¦¤à§‹à¦®à¦¾à¦° à¦ªà¦¿à¦›à§ à¦›à¦¾à¦¡à¦¼à¦¬à§‹ à¦¨à¦¾! ðŸ˜‰",
        "à¦†à¦®à¦¾à¦° à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à¦¾, à¦†à¦®à¦¾à¦° à¦¸à¦¬à¦Ÿà§à¦•à§ à¦†à¦¬à§‡à¦—... à¦¶à§à¦§à§ à¦¤à§‹à¦®à¦¾à¦° à¦œà¦¨à§à¦¯! 'à¦¹à§à¦¯à¦¾à¦' à¦¬à¦²à§‹! ðŸ˜"
    ];

    function showScreen(screenToShow) {
        [initialScreen, questionScreen, finalMessageScreen].forEach(screen => {
            screen.classList.add('hidden', 'fade-out'); // à¦«à§‡à¦¡-à¦†à¦‰à¦Ÿ à¦à¦¨à¦¿à¦®à§‡à¦¶à¦¨ à¦¯à§‹à¦—
            screen.classList.remove('flex', 'fade-in');
        });
        screenToShow.classList.remove('hidden', 'fade-out');
        screenToShow.classList.add('flex', 'fade-in'); // à¦«à§‡à¦¡-à¦‡à¦¨ à¦à¦¨à¦¿à¦®à§‡à¦¶à¦¨ à¦¯à§‹à¦—
    }

    // à¦ªà§à¦°à¦¾à¦¥à¦®à¦¿à¦• à¦¸à§à¦•à§à¦°à¦¿à¦¨ à¦¦à§‡à¦–à¦¾à¦¨à§‹
    showScreen(initialScreen);

    // 'à¦à¦—à¦¿à¦¯à¦¼à§‡ à¦¯à¦¾à¦¨' à¦¬à¦¾à¦Ÿà¦¨à§‡ à¦•à§à¦²à¦¿à¦• à¦‡à¦­à§‡à¦¨à§à¦Ÿ
    goAheadBtn.addEventListener('click', () => {
        showScreen(questionScreen);
    });

    // 'à¦¨à¦¾' à¦¬à¦¾à¦Ÿà¦¨à§‡ à¦•à§à¦²à¦¿à¦• à¦‡à¦­à§‡à¦¨à§à¦Ÿ
    noBtn.addEventListener('click', () => {
        noClickCount++;

        // à¦®à§‡à¦¸à§‡à¦œ à¦¦à§‡à¦–à¦¾à¦¨à§‹à¦° à¦²à¦œà¦¿à¦•, à¦¶à§‡à¦· à¦®à§‡à¦¸à§‡à¦œ à¦ªà¦°à§à¦¯à¦¨à§à¦¤ à¦ªà§Œà¦à¦›à¦¾à¦²à§‡à¦“ à¦¸à§‡à¦Ÿà¦¿à¦‡ à¦¦à§‡à¦–à¦¾à¦¬à§‡
        const messageIndex = Math.min(noClickCount - 1, romanticMessages.length - 1);
        noMessageDisplay.textContent = romanticMessages[messageIndex];
        noMessageDisplay.classList.remove('hidden', 'animate-fade-in-out'); // à¦ªà§à¦°à§‹à¦¨à§‹ à¦à¦¨à¦¿à¦®à§‡à¦¶à¦¨ à¦¸à¦°à¦¾à¦“
        void noMessageDisplay.offsetWidth; // à¦°à¦¿à¦«à§à¦²à§‹ à¦Ÿà§à¦°à¦¿à¦—à¦¾à¦° à¦•à¦°à¦¾à¦° à¦œà¦¨à§à¦¯
        noMessageDisplay.classList.add('animate-fade-in-out'); // à¦¨à¦¤à§à¦¨ à¦«à§‡à¦¡-à¦‡à¦¨-à¦†à¦‰à¦Ÿ à¦à¦¨à¦¿à¦®à§‡à¦¶à¦¨

        // 'à¦¹à§à¦¯à¦¾à¦' à¦¬à¦¾à¦Ÿà¦¨à§‡à¦° à¦†à¦•à¦¾à¦° à¦¬à§ƒà¦¦à§à¦§à¦¿
        const scaleFactor = 1 + (noClickCount * 0.1);
        yesBtn.style.transform = `scale(${scaleFactor})`;

        // 'à¦¹à§à¦¯à¦¾à¦' à¦¬à¦¾à¦Ÿà¦¨à¦•à§‡ à¦à¦•à¦Ÿà§ à¦¨à¦¡à¦¼à¦¾à¦šà¦¡à¦¼à¦¾ à¦•à¦°à¦¾à¦¨à§‹ (à¦†à¦°à¦“ à¦†à¦•à¦°à§à¦·à¦£à§€à¦¯à¦¼)
        yesBtn.classList.add('animate-pulse-attention'); // à¦¨à¦¤à§à¦¨ à¦à¦¨à¦¿à¦®à§‡à¦¶à¦¨ à¦•à§à¦²à¦¾à¦¸
        setTimeout(() => yesBtn.classList.remove('animate-pulse-attention'), 800); // à¦à¦¨à¦¿à¦®à§‡à¦¶à¦¨ à¦¸à¦®à¦¯à¦¼ à¦¬à¦¾à¦¡à¦¼à¦¾à¦¨à§‹ à¦¹à¦²à§‹

        // à¦šà§‚à¦¡à¦¼à¦¾à¦¨à§à¦¤ à¦ªà¦°à¦¿à¦¬à¦°à§à¦¤à¦¨ à¦¯à¦–à¦¨ 'à¦¨à¦¾' à¦•à§à¦²à¦¿à¦•à§‡à¦° à¦¸à¦°à§à¦¬à§‹à¦šà§à¦š à¦¸à§€à¦®à¦¾à¦¯à¦¼ à¦ªà§Œà¦à¦›à¦¾à¦¬à§‡
        if (noClickCount >= maxNoClicks) {
            yesBtn.textContent = "à¦…à¦¬à¦¶à§à¦¯à¦‡ à¦¹à§à¦¯à¦¾à¦! â¤ï¸"; // à¦Ÿà§‡à¦•à§à¦¸à¦Ÿ à¦ªà¦°à¦¿à¦¬à¦°à§à¦¤à¦¨
            yesBtn.classList.add('w-full', 'h-40', 'text-5xl', 'bg-gradient-to-r', 'from-pink-500', 'to-red-600', 'text-white', 'shadow-lg'); // à¦†à¦°à¦“ à¦†à¦•à¦°à§à¦·à¦£à§€à¦¯à¦¼ à¦•à¦¾à¦²à¦¾à¦° à¦“ à¦¶à§à¦¯à¦¾à¦¡à§‹
            noBtn.classList.add('hidden'); // 'à¦¨à¦¾' à¦¬à¦¾à¦Ÿà¦¨ à¦²à§à¦•à¦¿à¦¯à¦¼à§‡ à¦«à§‡à¦²à¦¾
            noMessageDisplay.classList.add('hidden'); // à¦®à§‡à¦¸à§‡à¦œà¦Ÿà¦¿à¦“ à¦²à§à¦•à¦¿à¦¯à¦¼à§‡ à¦«à§‡à¦²à¦¾
        }
    });

    // 'à¦¹à§à¦¯à¦¾à¦' à¦¬à¦¾à¦Ÿà¦¨à§‡ à¦•à§à¦²à¦¿à¦• à¦‡à¦­à§‡à¦¨à§à¦Ÿ
    yesBtn.addEventListener('click', () => {
        showScreen(finalMessageScreen);
    });
});
